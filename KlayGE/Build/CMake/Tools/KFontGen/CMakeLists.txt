SET(SOURCE_FILES
	${KLAYGE_PROJECT_DIR}/Tools/src/KFontGen/KFontGen.cpp
)

SET(EXTRA_INCLUDE_DIRS
	${KLAYGE_PROJECT_DIR}/../External/freetype/include
	${KLAYGE_PROJECT_DIR}/../kfont/include
)

SET(EXTRA_LINKED_DIRS
	${KLAYGE_PROJECT_DIR}/../External/lib/freetype/${KLAYGE_PLATFORM_NAME}
	${KLAYGE_PROJECT_DIR}/../kfont/lib/${KLAYGE_PLATFORM_NAME}
)
if(NOT (KLAYGE_PLATFORM_DARWIN OR KLAYGE_PLATFORM_LINUX))
	set(EXTRA_LINKED_DIRS ${EXTRA_LINKED_DIRS}
		${ZLIB_LIBRARY_DIR}
	)
endif()

SET(EXTRA_LINKED_LIBRARIES ${EXTRA_LINKED_LIBRARIES}
	debug kfont${KLAYGE_OUTPUT_SUFFIX}${CMAKE_DEBUG_POSTFIX} optimized kfont${KLAYGE_OUTPUT_SUFFIX}
	${KLAYGE_FILESYSTEM_LIBRARY}
	debug freetype${KLAYGE_OUTPUT_SUFFIX}${CMAKE_DEBUG_POSTFIX} optimized freetype${KLAYGE_OUTPUT_SUFFIX}
	debug ${KLAYGE_ZLIB_NAME}${KLAYGE_OUTPUT_SUFFIX}${CMAKE_DEBUG_POSTFIX} optimized ${KLAYGE_ZLIB_NAME}${KLAYGE_OUTPUT_SUFFIX}
)

SETUP_TOOL(KFontGen)

add_dependencies(KFontGen freetype)
